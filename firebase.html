<html>

<head></head>

<body>
    <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase-database.js"></script>
    <script>
    // Initialize Firebase
    var config = {
        apiKey: "AIzaSyD8B8P-Bejr47q3FzLG7KO3EF-CvHp6028",
        authDomain: "bot-a-razzi.firebaseapp.com",
        databaseURL: "https://bot-a-razzi.firebaseio.com",
        projectId: "bot-a-razzi",
        storageBucket: "",
        messagingSenderId: "24375466887"
    };
    firebase.initializeApp(config);
    var database = firebase.database();
    database.ref('bots').remove();

    function writeBotData(x, y, z, botid) {

        database.ref('bots/' + botid).set({
            x: x,
            y: y,
            z: z
        });
    }

    var numbots = 10;

    database.ref('info').set({
        numbots: numbots,
        botsinitialized: false
    });

    function create(num) {
        var div = document.createElement("div");
        div.id = "container" + num;
        div.innerHTML = "bot" + num;
        var sliderx = document.createElement("input");
        sliderx.type = "range";
        sliderx.id = "sliderx" + num;
        sliderx.min = 1;
        sliderx.max = 200;
        sliderx.value = 50;

        var slidery = document.createElement("input");
        slidery.type = "range";
        slidery.id = "slidery" + num;
        slidery.min = 1;
        slidery.max = 200;
        slidery.value = 50;

        var sliderz = document.createElement("input");
        sliderz.type = "range";
        sliderz.id = "sliderz" + num;
        sliderz.min = 1;
        sliderz.max = 200;
        sliderz.value = 50;
        sliderx.oninput = function() {
            writeBotData(sliderx.value, slidery.value, sliderz.value, "bot" + num);
        }
        slidery.oninput = function() {
            writeBotData(sliderx.value, slidery.value, sliderz.value, "bot" + num);
        }
        sliderz.oninput = function() {
            writeBotData(sliderx.value, slidery.value, sliderz.value, "bot" + num);
        }

        div.appendChild(sliderx);
        div.appendChild(slidery);
        div.appendChild(sliderz);

        document.body.appendChild(div);
    }

    for (var i = 0; i < numbots; i++) {
      create(i);
      writeBotData(50, 50, 50, "bot" + i);
      database.ref("info/botsinitialized").set(true);
    }
    </script>
</body>

</html>